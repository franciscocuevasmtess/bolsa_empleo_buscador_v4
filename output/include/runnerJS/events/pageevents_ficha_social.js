
Runner.pages.PageSettings.addPageEvent('bolsa_empleo.ficha_social',Runner.pages.constants.PAGE_ADD,"afterPageReady",function(pageObj,proxy,pageid,inlineRow,inlineObject,row){var tiene_hijos=Runner.getControl(pageid,'tiene_hijos');var cantidad_hijos=Runner.getControl(pageid,'cantidad_hijos');if(tiene_hijos.getValue()=='SI'){cantidad_hijos.addValidation("IsRequired");pageObj.showField("cantidad_hijos");}else{cantidad_hijos.removeValidation("IsRequired");pageObj.hideField("cantidad_hijos");}
if((proxy['saved'])&&window.parent&&window.parent.popup){var htmlElement="<p style='text-align: center;'> Se ha postulado correctamente</p>;";Swal.fire({icon:"success",title:"<b>Â¡Felicidades!</b>",html:"Te has postulado correctamente",confirmButtonColor:'#3085d6',showCloseButton:true,confirmButtonText:'Aceptar'}).then((result)=>{if(result.isConfirmed){window.parent.location.reload();window.parent.popup.close();}else{window.parent.location.reload();window.parent.popup.close();}});};});Runner.pages.fieldsEvents["ficha_social_hijos"]=function(pageObj,pageid,row){if(row){row=new Runner.AjaxRow(pageObj,row);}
var ret,reqParams,ctrl=this,fieldsData={},params={},ajax=new Runner.form.Button({id:'ficha_social_hijos',btnName:'ficha_social_hijos'}),before=function(){var tiene_hijos=Runner.getControl(pageid,'tiene_hijos');var cantidad_hijos=Runner.getControl(pageid,'cantidad_hijos');if(tiene_hijos.getValue()=='SI'){cantidad_hijos.addValidation("IsRequired");pageObj.showField("cantidad_hijos");}else{cantidad_hijos.removeValidation("IsRequired");pageObj.hideField("cantidad_hijos");}},after=function(result){},submit=function(){params["table"]="bolsa_empleo.ficha_social";params["field"]=ctrl.fieldName;params.page=pageObj.pageName;(Runner.controls.ControlStorage.byId(pageid)||[]).forEach(function(ctrl){if(!(ctrl instanceof Runner.controls.MultiUploadField)&&!(ctrl instanceof Runner.controls.FileControl)){fieldsData[ctrl.fieldName]=ctrl.getStringValue();}});reqParams={params:JSON.stringify(params),event:"ficha_social_hijos",pageType:pageObj.pageType,keys:JSON.stringify(pageObj.keys?pageObj.keys:(row&&row.getKeys())),fieldsData:JSON.stringify(fieldsData)};if(pageObj.masterTable){reqParams.masterTable=pageObj.masterTable;reqParams=Runner.apply(reqParams,pageObj.masterKeys);}
$.post(Runner.getPageUrl("buttonhandler"),reqParams,function(result){var _result;try{_result=JSON.parse(result);}catch(e){Runner.displayGenericAjaxError(result);}
after.call(ctrl,_result);}).fail(function(jqXHR,textStatus,errorThrown){Runner.displayGenericAjaxError(jqXHR.responseText||textStatus+' '+errorThrown);});submit=function(){};};ajax.submitHandler=submit;ajax.submit=submit;ret=before.call(this);if(ret===false){return;}
submit();};